{{#> admin.layout title=title }}
  {{#*inline "style"}}
    <link rel="stylesheet" href="/dist/css/form.css">
  {{/inline}}
  {{#*inline "content"}}
    <div class="content-header">
      <div class="container-fluid">
        <div class="row">
          <div class="col d-flex justify-content-between align-items-center">
            <h4 class="m-0 d-flex h4">
              <ion-icon class="mr-1" src="/dist/icons/edit-member-outline.svg"></ion-icon>
              <span class="ml-2">{{ title }}</span>
            </h4>
          </div>
        </div>
      </div>
    </div>
    <section class="content" id="employee_registration">
      <div class="container-fluid">
        <form id="registration" action={{routes 'EmployeeConfirm'}} method="post">
          <div class="card">
            <div class="card-body">
              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.status }}</label>
                    <select name="status" class="form-control select2 custom-select-lg">
                      {{#each status}}
                        <option value="{{@key}}" {{#if (is_equal 1 @key)}}selected{{/if}}>{{this}}</option>
                      {{/each}}
                    </select>
                  </div>
                </div>
              </div>
              <h5 class="title-form-lang pl-2 mb-3 font-weight-bold">Vietnamese</h5>
              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group">
                    <label for="family_name">{{ langCommon.label.familyNameVn }} <span class="text-danger">*</span></label>
                    <input type="text" class="form-control form-control-lg" id="family_name" name="family_name_vn" placeholder="">
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label for="middle_name">{{ langCommon.label.middleNameVn }}</label>
                    <input type="text" class="form-control form-control-lg" id="middle_name" name="middle_name_vn" placeholder="">
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label for="first_name">{{ langCommon.label.firstNameVn }} <span class="text-danger">*</span></label>
                    <input type="text" class="form-control form-control-lg" id="first_name" name="first_name_vn" placeholder="">
                  </div>
                </div>
              </div>
              <h5 class="title-form-lang pl-2 mb-3 font-weight-bold">English</h5>
              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group">
                    <label for="family_name">{{ langCommon.label.familyNameEn }} <span class="text-danger">*</span></label>
                    <input type="text" class="form-control form-control-lg" id="e_family_name" name="family_name_en" placeholder="">
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label for="middle_name">{{ langCommon.label.middleNameEn }}</label>
                    <input type="text" class="form-control form-control-lg" id="e_middle_name" name="middle_name_en" placeholder="">
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label for="first_name">{{ langCommon.label.firstNameEn }} <span class="text-danger">*</span></label>
                    <input type="text" class="form-control form-control-lg" id="e_first_name" name="first_name_en" placeholder="">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.gender }} <span class="text-danger">*</span></label>
                    <select name="gender" class="form-control select2 custom-select-lg">
                      <option value=""></option>
                      {{#each gender}}
                        <option value="{{@key}}">{{this}}</option>
                      {{/each}}
                    </select>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.race }}</label>
                    <select name="race" class="form-control select2 custom-select-lg">
                      <option value=""></option>
                      {{#each race}}
                        <option value="{{@key}}">{{this}}</option>
                      {{/each}}
                    </select>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.birthday }} <span class="text-danger">*</span></label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">
                          <ion-icon name="calendar-outline"></ion-icon>
                        </span>
                      </div>
                      <input data-toggle="datetimepicker" name="birthday" type="text" class="calendar-limit-date form-control form-control-lg datetimepicker-input">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-12">
                  <div class="form-group">
                    <label>{{ langCommon.label.address }}</label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">
                          <ion-icon name="home-outline"></ion-icon>
                        </span>
                      </div>
                      <input name="address" type="text" class="form-control form-control-lg" placeholder="">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.citizenIdentityCard }}</label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">
                          <ion-icon name="ID-card-outline"></ion-icon>
                        </span>
                      </div>
                      <input name="cmnd" type="text" class="form-control form-control-lg" placeholder="">
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.issueDay }}</label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">
                          <ion-icon name="calendar-outline"></ion-icon>
                        </span>
                      </div>
                      <input data-toggle="datetimepicker" name="issue_day" type="text" class="calendar-limit-date form-control form-control-lg datetimepicker-input" placeholder="">
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.issuePlace }}</label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">
                          <ion-icon name="location-outline"></ion-icon>
                        </span>
                      </div>
                      <input name="issue_place" type="text" class="form-control form-control-lg" placeholder="">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.phoneNumber }}</label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">
                          <ion-icon name="call-outline"></ion-icon>
                        </span>
                      </div>
                      <input name="phone_number" type="text" class="form-control form-control-lg" placeholder="">
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.email }} <span class="text-danger">*</span></label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">
                          <ion-icon name="mail-outline"></ion-icon>
                        </span>
                      </div>
                      <input name="email" type="text" class="form-control form-control-lg" placeholder="">
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.taxCode }}</label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">
                          <ion-icon src="/dist/icons/tax-number-outline.svg" class="demo"></ion-icon>
                        </span>
                      </div>
                      <input name="tax_code" type="text" class="form-control form-control-lg" placeholder="">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.bankName }}</label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">
                          <ion-icon name="business-outline"></ion-icon>
                        </span>
                      </div>
                      <input name="bank_name" type="text" class="form-control form-control-lg" placeholder="">
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.accountNumber }}</label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">
                          <ion-icon name="card-outline"></ion-icon>
                        </span>
                      </div>
                      <input name="account_number" type="text" class="form-control form-control-lg" placeholder="">
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.socialInsuranceNumber }}</label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">
                          <ion-icon src="/dist/icons/social-insurance-number-outline.svg"></ion-icon>
                        </span>
                      </div>
                      <input name="social_insurance_number" type="text" class="form-control form-control-lg" placeholder="">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.usePeriodStart }}</label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">
                          <ion-icon name="calendar-outline"></ion-icon>
                        </span>
                      </div>
                      <input data-toggle="datetimepicker" name="use_period_start" type="text" class="calendar form-control form-control-lg datetimepicker-input" placeholder="">
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.usePeriodEnd }}</label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">
                          <ion-icon name="calendar-outline"></ion-icon>
                        </span>
                      </div>
                      <input data-toggle="datetimepicker" name="use_period_end" type="text" class="calendar form-control form-control-lg datetimepicker-input" placeholder="">
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.position }} <span class="text-danger">*</span></label>
                    <select name="position" class="form-control select2 custom-select-lg">
                      <option value=""></option>
                      {{#each position}}
                        <option value="{{@key}}">{{this}}</option>
                      {{/each}}
                    </select>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>{{ langCommon.label.dependents }}</label>
                    <select name="dependents" class="form-control select2 custom-select-lg">
                      <option value="">{{langCommon.selectOption.noSelectDependent}}</option>
                      {{#each dependents}}
                        <option value="{{@key}}">{{this}}</option>
                      {{/each}}
                    </select>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-12">
                  <div class="form-group">
                    <label>{{ langCommon.label.memo }}</label>
                    <textarea name="memo" class="form-control" rows="5" placeholder="{{ langCommon.label.enter }} ..."></textarea>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer">
              <button type="submit" class="btn-style-1 btn btn-lg my-3 px-5">
                <ion-icon class="mr-2" name="checkmark-circle-outline"></ion-icon>
                <span>{{ langCommon.btn.confirm }}</span>
              </button>
            </div>
          </div>
        </form>
      </div>
    </section>
  {{/inline}}
  {{#*inline "script"}}
    <script>
      $(function () {
        const objRemote = {
          url: "{{routes 'EmployeeCheckEmail'}}",
          type: "post",
          data: {
            email: function() {
              return $("input[name=email]").val();
            }
          }
        }

        $('.calendar-limit-date').datetimepicker({
          format: 'YYYY/MM/DD',
          maxDate: new Date(),
          locale: "{{userLang}}",
        });

        $('.calendar').datetimepicker({
          format: 'YYYY/MM/DD',
          locale: "{{userLang}}",
        });

        $('#registration').validate({
          rules: {
            status: {
              required: true,
            },
            family_name_vn: {
              required: true,
            },
            first_name_vn: {
              required: true,
            },
            family_name_en: {
              required: true,
            },
            first_name_en: {
              required: true,
            },
            gender: {
              required: true,
            },
            birthday: {
              required: true,
            },
            email: {
              email: true,
              required: true,
              remote: objRemote,
            },
            cmnd: {
              number: true,
              maxlength: 12,
            },
            tax_code: {
              number: true,
              maxlength: 10,
            },
            account_number: {
              maxlength: 15,
            },
            position: {
              required: true,
            },
          },
          messages: {
            status: {
              required: "{{ validationMsg.status.required }}",
            },
            family_name_vn: {
              required: "{{ validationMsg.family_name_vn.required }}",
            },
            first_name_vn: {
              required: "{{ validationMsg.first_name_vn.required }}",
            },
            family_name_en: {
              required: "{{ validationMsg.family_name_en.required }}",
            },
            first_name_en: {
              required: "{{ validationMsg.first_name_en.required }}",
            },
            email: {
              email: "{{ validationMsg.email.email }}",
              required: "{{ validationMsg.email.required }}",
              remote: "{{ validationMsg.email.remote }}",
            },
            cmnd: {
              number: "{{ validationMsg.cmnd.number }}",
              maxlength: "{{ validationMsg.cmnd.maxlength }}",
            },
            tax_code: {
              number: "{{ validationMsg.tax_code.number }}",
              maxlength: "{{ validationMsg.tax_code.maxlength }}",
            },
            account_number: {
              maxlength: "{{ validationMsg.account_number.maxlength }}",
            }
          },
          errorElement: 'span',
          errorPlacement: function (error, element) {
            error.addClass('invalid-feedback');
            element.closest('.form-group').append(error);
          },
          highlight: function (element, errorClass, validClass) {
            $(element).addClass('is-invalid');
          },
          unhighlight: function (element, errorClass, validClass) {
            $(element).removeClass('is-invalid');
          },
          submitHandler: function(form, event) {
            event.preventDefault();
            form.submit();
          }
        });
      });
    </script>
  {{/inline}}
{{/admin.layout}}
